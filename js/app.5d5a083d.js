(function(){"use strict";var e={8857:function(e,s,t){var o=t(9242),a=t(7139);const n=(0,a.MT)({state(){return{courses:JSON.parse(window.localStorage.getItem("courses")||"[]").sort(((e,s)=>e.position-s.position)),modal:{visible:!1,editMode:!1,item:-1}}},getters:{getCourses:e=>e.courses,getModal:e=>e.modal},mutations:{setCourses(e,s){e.courses=s},setModal(e,s){e.modal=s}}});var r=t(3396);const i={key:0,class:"fullscreen grid-center"},l={key:0},d={key:1};function u(e,s,t,o,a,n){const u=(0,r.up)("EditCourseModal"),c=(0,r.up)("CourseCard"),p=(0,r.up)("draggable");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(u),(0,r._)("div",{onDblclick:s[3]||(s[3]=(...e)=>n.addCourse&&n.addCourse(...e)),class:"fullscreen"},[0===n.courses.length?((0,r.wg)(),(0,r.iD)("div",i,[0==n.modal.visible?((0,r.wg)(),(0,r.iD)("p",l,"Double-click an empty space to add a course. Double-click a course to delete or edit.")):(0,r.kq)("",!0)])):((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(p,{class:"card-holder",modelValue:e.cards,"onUpdate:modelValue":s[0]||(s[0]=s=>e.cards=s),"item-key":"order",animation:"150","drag-class":"pickable","ghost-class":"shadow",onStart:s[1]||(s[1]=e=>{a.drag=!0}),onEnd:s[2]||(s[2]=e=>{this.drag=!1}),onUpdate:n.updateCardPositions,handle:".handle"},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.courses,((e,s)=>((0,r.wg)(),(0,r.j4)(c,{name:e.name,section:e.section,professor:e.professor,link:e.link,banner:e.banner,notes:e.notes,forums:e.forums,syllabus:e.syllabus,custom_link:e.custom_link,position:e.position,key:s},null,8,["name","section","professor","link","banner","notes","forums","syllabus","custom_link","position"])))),128))])),_:1},8,["modelValue","onUpdate"])]))],32)],64)}var c=t(8249),p=t(2268);const m=e=>((0,r.dD)("data-v-453ebe76"),e=e(),(0,r.Cn)(),e),h=["href"],_={class:"content"},f={class:"name cutoff",style:{"user-select":"none"}},b={key:0},y={class:"professor cutoff",style:{"user-select":"none"}},k={class:"notes scroll"},g={class:"links-container"},v=["href"],w=m((()=>(0,r._)("span",{class:"material-symbols-outlined"},"assignment",-1))),C=[w],U=["href"],E=m((()=>(0,r._)("span",{class:"material-symbols-outlined"},"forum",-1))),M=[E],V=["href"],D=m((()=>(0,r._)("span",{class:"material-symbols-outlined"},"captive_portal",-1))),O=[D],x={key:3,class:"material-symbols-outlined invisible"},L=m((()=>(0,r._)("div",{class:"actions-container"},[(0,r._)("span",{class:"material-symbols-outlined handle"},"drag_handle")],-1)));function S(e,s,o,a,n,i){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",{class:"course",onDblclick:s[0]||(s[0]=e=>{i.edit()})},[(0,r._)("a",{href:o.link},[(0,r._)("div",{class:"banner",style:(0,p.j5)({backgroundImage:"url("+o.banner+"), url("+t(6572)+")","background-color":"var(--chalkboard-"+i.getFallbackColor(o.name)+")"})},null,4)],8,h),(0,r._)("div",_,[(0,r._)("h1",f,[(0,r.Uk)((0,p.zw)(o.name),1),o.section.length>0?((0,r.wg)(),(0,r.iD)("span",b," ["+(0,p.zw)(o.section)+"]",1)):(0,r.kq)("",!0)]),(0,r._)("p",y,"Professor: "+(0,p.zw)(o.professor),1),(0,r._)("p",k,(0,p.zw)(o.notes),1)]),(0,r._)("div",g,[i.propertyFilled("syllabus")?((0,r.wg)(),(0,r.iD)("a",{key:0,href:o.syllabus,target:"_blank"},C,8,v)):(0,r.kq)("",!0),i.propertyFilled("forums")?((0,r.wg)(),(0,r.iD)("a",{key:1,href:o.forums,target:"_blank"},M,8,U)):(0,r.kq)("",!0),i.propertyFilled("custom_link")?((0,r.wg)(),(0,r.iD)("a",{key:2,href:o.custom_link,target:"_blank"},O,8,V)):(0,r.kq)("",!0),i.propertyFilled("syllabus")||i.propertyFilled("forums")||i.propertyFilled("custom_link")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",x,"category"))]),L],32)])}var R={name:"CourseCard",props:{name:String,section:String,professor:String,link:String,banner:String,notes:String,forums:String,syllabus:String,custom_link:String,position:Number},computed:{courses:{get(){return n.state.courses},set(e){n.commit("setCourses",e)}},modal:{get(){return n.state.modal},set(e){n.commit("setModal",e)}}},methods:{getFallbackColor(e){for(var s=["green","purple","red","blue"],t=e.split(" ")[0],o=0,a=0;a<t.length;a++)o=(o<<5)-o+t.charCodeAt(a)|0;return s[Math.abs(o)%s.length]},propertyFilled(e){return this[e]&&this[e].length>0},edit(){const e=this.$.vnode.key;this.modal.item=e,this.modal.editMode=!0,this.modal.visible=!0}}},F=t(89);const z=(0,F.Z)(R,[["render",S],["__scopeId","data-v-453ebe76"]]);var q=z;const I=e=>((0,r.dD)("data-v-8084e52e"),e=e(),(0,r.Cn)(),e),j={key:0,class:"wrapper fullscreen grid-center"},P={class:"modal"},N={class:"content"},A={class:"title"},J={style:{display:"grid","grid-template-columns":"70% 30%"}},K={style:{display:"flex","flex-direction":"column"}},T=I((()=>(0,r._)("span",{class:"label"},"Course*",-1))),Y={style:{display:"flex","flex-direction":"column"}},W=I((()=>(0,r._)("span",{class:"label"},"Section",-1))),Z=I((()=>(0,r._)("span",{class:"label"},"Professor*",-1))),H=I((()=>(0,r._)("span",{class:"label"},[(0,r.Uk)("Course Page* "),(0,r._)("span",{class:"material-symbols-outlined inline-icon"},"link")],-1))),$=I((()=>(0,r._)("span",{class:"label"},"About",-1))),B=I((()=>(0,r._)("span",{class:"label"},[(0,r.Uk)("Talk Page "),(0,r._)("span",{class:"material-symbols-outlined inline-icon"},"link")],-1))),G=I((()=>(0,r._)("span",{class:"label"},[(0,r.Uk)("Syllabus "),(0,r._)("span",{class:"material-symbols-outlined inline-icon"},"link")],-1))),Q=I((()=>(0,r._)("span",{class:"label"},[(0,r.Uk)("Extra Link "),(0,r._)("span",{class:"material-symbols-outlined inline-icon"},"link")],-1))),X=I((()=>(0,r._)("span",{class:"label"},[(0,r.Uk)("Banner URL "),(0,r._)("span",{class:"material-symbols-outlined inline-icon"},"link")],-1))),ee={key:0,class:"warn label"},se={style:{display:"flex","justify-content":"space-evenly","padding-top":"8px"}};function te(e,s,t,a,n,i){return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[(0,r.Wm)(o.uT,{name:"edit-course-modal",onEnter:i.fillInputs},{default:(0,r.w5)((()=>[i.modal.visible?((0,r.wg)(),(0,r.iD)("div",j,[(0,r._)("div",P,[(0,r._)("div",N,[(0,r._)("h1",A,(0,p.zw)(i.modal.editMode?"Edit":"Add")+" Course",1),(0,r._)("div",J,[(0,r._)("div",K,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>n.course_data.name=e),placeholder:"PKMN 101"},null,512),[[o.nr,n.course_data.name]]),T]),(0,r._)("div",Y,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.course_data.section=e),placeholder:"E"},null,512),[[o.nr,n.course_data.section]]),W])]),(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.course_data.professor=e),placeholder:"Professor Juniper"},null,512),[[o.nr,n.course_data.professor]]),Z,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>n.course_data.link=e),placeholder:"https://courses.edu/course/12345678"},null,512),[[o.nr,n.course_data.link]]),H,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>n.course_data.notes=e),placeholder:"One of the courses ever!!!"},null,512),[[o.nr,n.course_data.notes]]),$,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>n.course_data.forums=e),placeholder:"https://courses.edu/course/12345678/forums"},null,512),[[o.nr,n.course_data.forums]]),B,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>n.course_data.syllabus=e),placeholder:"https://courses.edu/course/12345678/syllabus"},null,512),[[o.nr,n.course_data.syllabus]]),G,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>n.course_data.custom_link=e),placeholder:"https://bigrat.monster"},null,512),[[o.nr,n.course_data.custom_link]]),Q,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>n.course_data.banner=e),placeholder:"https://i.imgur.com/5VRrVNk.png"},null,512),[[o.nr,n.course_data.banner]]),X,n.warn.visible?((0,r.wg)(),(0,r.iD)("span",ee,(0,p.zw)(n.warn.text),1)):(0,r.kq)("",!0),(0,r._)("div",se,[i.modal.editMode?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"pink",onClick:s[9]||(s[9]=e=>{i.deleteCard()})},"Delete")):(0,r.kq)("",!0),(0,r._)("button",{class:"cyan",onClick:s[10]||(s[10]=e=>{i.closeModal()})},"Cancel"),(0,r._)("button",{class:"cyan",onClick:s[11]||(s[11]=e=>{i.modal.editMode?i.saveCard():i.addCard()})},(0,p.zw)(i.modal.editMode?"Save":"Add"),1)])])])])):(0,r.kq)("",!0)])),_:1},8,["onEnter"])])}t(560);const oe=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+:]*)*(\\?[;&a-z\\d%_.~+=\\-:]*)?(\\#[-a-z\\d_:]*)?$","i");var ae={name:"EditCourseModal",data(){return{warn:{visible:!1,text:""},course_data:{}}},computed:{modal:{get(){return n.state.modal},set(e){n.commit("setModal",e)}},courses:{get(){return n.state.courses},set(e){n.commit("setCourses",e)}}},created(){window.addEventListener("keydown",this.onKeyDown)},unmounted(){window.removeEventListener("keydown",this.onKeyDown)},methods:{closeModal(){this.modal.visible=!1,this.warn.visible=!1,this.course_data={},window.localStorage.setItem("courses",JSON.stringify(this.courses))},deleteCard(){const e=this.course_data.position;this.courses=this.courses.filter((s=>s.position!==e)),this.courses.forEach((s=>{s.position>e&&(s.position-=1)})),this.closeModal()},isValidURL(e){return!!oe.test(e)},isEmptyOrValidURL(e){return!e||this.isValidURL(e)},requiredFieldsFilled(){return this.course_data.name&&this.course_data.professor&&this.course_data.link},linksEmptyOrValidURL(){return this.isEmptyOrValidURL(this.course_data.link)&&this.isEmptyOrValidURL(this.course_data.forums)&&this.isEmptyOrValidURL(this.course_data.syllabus)&&this.isEmptyOrValidURL(this.course_data.custom_link)&&this.isEmptyOrValidURL(this.course_data.banner)},addCard(){this.requiredFieldsFilled()?this.linksEmptyOrValidURL()?(this.courses.push({name:this.course_data.name,section:this.course_data.section||"",professor:this.course_data.professor,link:this.course_data.link,banner:this.course_data.banner||"",notes:this.course_data.notes||"",forums:this.course_data.forums||"",syllabus:this.course_data.syllabus||"",custom_link:this.course_data.custom_link||"",position:this.courses.length}),this.closeModal()):(this.warn.text="Not a valid URL!",this.warn.visible=!0):(this.warn.text="You must fill out all fields marked with a (*)",this.warn.visible=!0)},saveCard(){this.requiredFieldsFilled()?this.linksEmptyOrValidURL()?(this.courses[this.modal.item]={name:this.course_data.name,section:this.course_data.section||"",professor:this.course_data.professor,link:this.course_data.link,banner:this.course_data.banner||"",notes:this.course_data.notes||"",forums:this.course_data.forums||"",syllabus:this.course_data.syllabus||"",custom_link:this.course_data.custom_link||"",position:this.course_data.position},this.closeModal()):(this.warn.text="Not a valid URL!",this.warn.visible=!0):(this.warn.text="You must fill out all fields marked with a (*)",this.warn.visible=!0)},fillInputs(){this.course_data={...this.courses[this.modal.item]}},onKeyDown(e){this.modal.visible&&"Escape"===e.key&&this.closeModal()}}};const ne=(0,F.Z)(ae,[["render",te],["__scopeId","data-v-8084e52e"]]);var re=ne,ie={name:"App",components:{draggable:c.J,CourseCard:q,EditCourseModal:re},data(){return{drag:!1}},computed:{modal:{get(){return n.state.modal},set(e){n.commit("setModal",e)}},courses:{get(){return n.state.courses},set(e){n.commit("setCourses",e)}}},methods:{addCourse(e){"card-holder"!==e.target.classList[0]&&"fullscreen"!==e.target.classList[0]||(this.modal.editMode=!1,this.modal.item=-1,this.modal.visible=!0)},updateCardPositions(e){const s=e.oldIndex,t=e.newIndex,o=this.courses.findIndex((e=>e.position===s));this.courses.forEach((e=>{t>s?e.position>s&&e.position<=t&&(e.position-=1):s>t&&e.position>=t&&e.position<s&&(e.position+=1)})),this.courses[o].position=t,window.localStorage.setItem("courses",JSON.stringify(this.courses))}}};const le=(0,F.Z)(ie,[["render",u]]);var de=le;const ue=(0,o.ri)(de);ue.use(n),ue.mount("#app")},6572:function(e,s,t){e.exports=t.p+"img/default_banner.ed76ba0a.png"}},s={};function t(o){var a=s[o];if(void 0!==a)return a.exports;var n=s[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(s,o,a,n){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],a=e[u][1],n=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||r>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(u--,1);var d=a();void 0!==d&&(s=d)}}return s}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,a,n]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var a,n,r=o[0],i=o[1],l=o[2],d=0;if(r.some((function(s){return 0!==e[s]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(l)var u=l(t)}for(s&&s(o);d<r.length;d++)n=r[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(u)},o=self["webpackChunkcourseboard"]=self["webpackChunkcourseboard"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(8857)}));o=t.O(o)})();
//# sourceMappingURL=app.5d5a083d.js.map